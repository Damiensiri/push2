<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Notifications</title>

<style>
body{
  margin:0;
  font-family:-apple-system,BlinkMacSystemFont,sans-serif;
  background:#f4f4f4;
}

h1{
  text-align:center;
  margin:20px 0;
}

.card{
  background:white;
  margin:12px;
  padding:16px;
  border-radius:18px;
  box-shadow:0 4px 10px rgba(0,0,0,0.05);
  cursor:pointer;
  transition:0.2s;
}

.card:hover{
  transform:scale(1.02);
}

.time{
  color:#e43b3b;
  font-weight:bold;
  margin-bottom:6px;
}

.title{
  font-weight:700;
  margin-bottom:4px;
}

.category{
  color:#1f2c4c;
  opacity:0.7;
  font-size:14px;
}

.unread{
  border-left:6px solid #e43b3b;
}
</style>
</head>
<body>

<h1>Centre de notifications</h1>
<div id="list"></div>

<script>

function getNotifications(){
  return JSON.parse(localStorage.getItem("eds_notifications")) || [];
}

function render(){
  const list = document.getElementById("list");
  list.innerHTML = "";

  const data = getNotifications();

  data.sort((a,b)=> b.id - a.id);

  data.forEach(n => {
    const div = document.createElement("div");
    div.className = "card " + (!n.read ? "unread" : "");
    div.innerHTML = `
      <div class="time">${n.time}</div>
      <div class="title">${n.title}</div>
      <div class="category">${n.category}</div>
    `;
    div.onclick = ()=> {
      window.location.href = "notification.html?id=" + n.id;
    };
    list.appendChild(div);
  });
}

render();

</script>
</body>
</html>